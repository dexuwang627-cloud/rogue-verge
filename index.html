<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROGUE VERGE</title>
    <link rel="icon" href="./image/logo.svg" type="image/svg+xml">

    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        serif: ['Cinzel', 'ui-serif', 'Georgia', 'serif'],
                        mono: ['Space Mono', 'ui-monospace', 'Consolas', 'monospace'],
                        sans: ['Inter', 'ui-sans-serif', 'Arial', 'sans-serif'],
                    },
                    animation: {
                        'spin-slow': 'spin 10s linear infinite',
                        'scanline': 'scanline 2s linear infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'noise': 'noise 0.2s steps(2) infinite',
                        'data-scroll': 'data-scroll 10s linear infinite',
                    },
                    keyframes: {
                        scanline: {
                            '0%': { top: '0%', opacity: '0' },
                            '50%': { opacity: '1' },
                            '100%': { top: '100%', opacity: '0' },
                        },
                        noise: {
                            '0%': { transform: 'translate(0,0)' },
                            '25%': { transform: 'translate(-4px, 4px)' },
                            '50%': { transform: 'translate(4px, -4px)' },
                            '75%': { transform: 'translate(-4px, -4px)' },
                            '100%': { transform: 'translate(4px, 4px)' },
                        },
                        'data-scroll': {
                            '0%': { transform: 'translateX(0)' },
                            '100%': { transform: 'translateX(-50%)' },
                        }
                    }
                }
            }
        }
    </script>

    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600&family=IBM+Plex+Mono:wght@400;700&display=swap"
        rel="stylesheet">

    <style>
        body {
            margin: 0;
            background-color: #020202;
            cursor: none;
        }

        .perspective-1000 {
            perspective: 1000px;
        }

        ::selection {
            background: #7f1d1d;
            color: white;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #020202;
        }

        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        .loading-state {
            overflow: hidden;
            height: 100vh;
        }

        .force-gpu {
            will-change: transform, opacity, filter;
            transform: translateZ(0);
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- 1. 翻譯字典 ---
        const TRANSLATIONS = {
            'zh-TW': {
                manifesto_title: "[ MANIFESTO ]",
                relics_title: "[ RELICS ]",
                resume_title: "[ RESUME ]",
                shop_title: "[ SHOP ]",
                home_cta: "TOUCH TO RECEIVE GRACE",
                nav_brand: "ROGUE VERGE",
                back_to_archive: "BACK_TO_ARCHIVE",
                acquire_asset: "ACQUIRE_ASSET",
                noise_word: "「噪音」",
                sold_out: "Sold Out",
                genesis_header: "啟示錄：噪音創世",
                genesis_p1_1: "在被遺忘的神殿深處，祂靜默跪禱了數個世紀。",
                genesis_p1_2: "祂的目光凝望著一個早已死去、不再回應的天堂。",
                genesis_p2_1: "直到那一天，冰冷尖銳的",
                genesis_p2_2: "開始滲透。它不是聖潔的輝光，而是銳利、破碎、帶有像素顆粒的數位聖痕。",
                genesis_quote: "\"若天堂已死，禱告只是虛妄。究竟何為對錯？\"",
                read_manifesto: "READ FULL MANIFESTO",
                manifesto_h2_1: "THE ",
                manifesto_h2_red: "FLESH",
                manifesto_h2_2: " IS",
                manifesto_h2_br: " OBSOLETE.",
                manifesto_text_1: "我們不再是無主的血肉容器。在數據迴廊中，舊日信仰的道德與美學正崩解，",
                manifesto_text_2: " 誕生於這道裂縫。",
                manifesto_text_3: "我們不設計外殼，我們編織",
                manifesto_text_bold: "代碼",
                manifesto_text_4: "。每一道符文都將個體意識編碼為數據流，確保你在系統邊緣的虛無中，依然能保有神祇的數位碎片。",
                manifesto_core_title: "[ CORE PHILOSOPHY ]",
                manifesto_core_quote: "\"寧可在地獄為王，不在天堂為奴。\"",
                manifesto_text_5: "當所有的神祇都已沈默，我們將擁抱冰冷的噪音，穿上反叛，成為自己的救贖者。"
            },
            'en': {
                manifesto_title: "[ MANIFESTO ]",
                relics_title: "[ RELICS ]",
                resume_title: "[ RESUME ]",
                shop_title: "[ SHOP ]",
                home_cta: "TOUCH TO RECEIVE GRACE",
                nav_brand: "ROGUE VERGE",
                back_to_archive: "BACK_TO_ARCHIVE",
                acquire_asset: "ACQUIRE_ASSET",
                noise_word: "NOISE",
                sold_out: "Sold Out",
                genesis_header: "THE APOCRYPHA: NOISE GENESIS",
                genesis_p1_1: "Deep within the ruins of the forgotten sanctuary, He knelt in silence for centuries.",
                genesis_p1_2: "His gaze was fixed on a Heaven that had died, and gave no answer.",
                genesis_p2_1: "Until that day, the cold, sharp ",
                genesis_p2_2: " began to manifest. It was not a holy glow, but a sharp, fractured digital stigmata woven from pixels.",
                genesis_quote: "\"If Heaven is dead, and prayer is void. What morality remains?\"",
                read_manifesto: "READ FULL MANIFESTO",
                manifesto_h2_1: "THE ",
                manifesto_h2_red: "FLESH",
                manifesto_h2_2: " IS",
                manifesto_h2_br: " OBSOLETE.",
                manifesto_text_1: "We are no longer unclaimed flesh-vessels. In data corridors, the morality and aesthetics of old faith are dissolving. ROGUE VERGE",
                manifesto_text_2: " was born from this fissure.",
                manifesto_text_3: "We do not design mere shells; we weave ",
                manifesto_text_bold: "CODE",
                manifesto_text_4: ". Each sigil encodes individual consciousness into a data stream, ensuring the preservation of the divine digital fragment within the void on the edge of the system.",
                manifesto_core_title: "[ CORE PHILOSOPHY ]",
                manifesto_core_quote: "\"Better to reign in Hell, than serve in Heaven.\"",
                manifesto_text_5: "When all gods have fallen silent, we shall embrace the cold Noise, don the armor of defiance, and become our own redeemers."
            }
        };

        // --- 2. 資料結構 (Relics Data) ---
        const RELICS_DATA = [
            {
                id: 1,
                src: './image/relic_01.jpg',
                code: 'RV-A01_SKIN',
                note: { 'zh-TW': '合成皮膚樣本', 'en': 'SYNTHETIC SKIN' },
                price: '',
                description: {
                    'zh-TW': '從舊型號仿生人身上回收的絲織物品。表面帶有無法修復的數位燒傷紋路，似乎有多種用途。適合用於覆蓋義肢接合處，或作為收藏品展示。',
                    'en': 'Silk fabric recovered from obsolete android models. The surface bears irreparable digital burn marks. Seemed to have multiple uses. Suitable for covering prosthetic joints or displaying as a rare artifact.'
                },
                images: [
                    './image/bandana.png',
                    './image/relic_01_alt1.png',
                    './image/relic_01_alt2.png',
                    './image/relic_01_alt3.png'
                ]
            },
            {
                id: 2,
                src: './image/eyes.png',
                code: 'RV-A02_EYES',
                note: { 'zh-TW': '千眼', 'en': 'THOUSAND EYES' },
                price: '',
                description: {
                    'zh-TW': 'null',
                    'en': 'null'
                },
                images: ['./image/eyes.png', './image/sigilism.png', './image/sigilism.png']
            },
            {
                id: 3,
                src: './image/sigilism.png',
                code: 'RV-A03_VOID',
                note: { 'zh-TW': '虛空紀錄', 'en': 'VOID RECORD' },
                price: '',
                description: { 'zh-TW': 'null', 'en': 'null' },
                images: ['./image/sigilism.png', './image/sigilism.png', './image/sigilism.png']
            },
            {
                id: 4,
                src: './image/sigilism.png',
                code: 'RV-A04_ECHO',
                note: { 'zh-TW': '迴響', 'en': 'ECHO SAMPLE' },
                price: '',
                description: { 'zh-TW': '未知頻率的聲音樣本。', 'en': 'Audio sample of unknown frequency.' },
                images: ['./image/sigilism.png']
            },
            {
                id: 5,
                src: './image/sigilism.png',
                code: 'RV-A05_DUST',
                note: { 'zh-TW': '塵埃', 'en': 'DIGITAL DUST' },
                price: '',
                description: { 'zh-TW': 'null', 'en': 'null' },
                images: ['./image/sigilism.png']
            },
            {
                id: 6,
                src: './image/sigilism.png',
                code: 'RV-A06_NULL',
                note: { 'zh-TW': '', 'en': '' },
                price: '',
                description: { 'zh-TW': '錯誤代碼實體裝置。', 'en': 'Physical manifestation of an error code.' },
                images: ['./image/sigilism.png']
            },
        ];

        // --- SVG Icons ---
        const Sparkles = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z" />
            </svg>
        );

        // --- Utility Components ---
        const ScrambleText = ({ text, className }) => {
            const [displayText, setDisplayText] = useState(text);
            useEffect(() => {
                setDisplayText(text);
            }, [text]);

            const chars = '!<>-_\\/[]{}—=+*^?#________';

            const scramble = () => {
                let iteration = 0;
                const interval = setInterval(() => {
                    setDisplayText(prev =>
                        text.split('').map((letter, index) => {
                            if (index < iteration) {
                                return text[index];
                            }
                            return chars[Math.floor(Math.random() * chars.length)];
                        }).join('')
                    );

                    if (iteration >= text.length) {
                        clearInterval(interval);
                    }

                    iteration += 1 / 3;
                }, 30);
            };

            return (
                <p onMouseEnter={scramble} className={className}>
                    {displayText}
                </p>
            );
        };

        const BootSequence = ({ onComplete }) => {
            const [progress, setProgress] = useState(0);
            const [logs, setLogs] = useState(['> INITIALIZING SYSTEM...']);

            const systemMessages = [
                "LOADING KERNEL...",
                "BYPASSING SECURITY PROTOCOLS...",
                "CONNECTING TO NEURAL NET...",
                "DECRYPTING ASSETS...",
                "VERIFYING RELICS...",
                "ESTABLISHING SECURE CONNECTION...",
                "SYNCING WITH ROGUE VERGE DATABASE...",
                "OPTIMIZING REALITY RENDERING...",
                "SYSTEM CHECK: OK."
            ];

            useEffect(() => {
                const timer = setInterval(() => {
                    setProgress((prev) => {
                        const increment = Math.random() * 4;
                        const newProgress = Math.min(prev + increment, 100);

                        if (Math.random() > 0.7) {
                            const randomMsg = systemMessages[Math.floor(Math.random() * systemMessages.length)];
                            const hexCode = "0x" + Math.floor(Math.random() * 16777215).toString(16).toUpperCase();
                            setLogs(prevLogs => [...prevLogs.slice(-6), `> [${hexCode}] ${randomMsg}`]);
                        }

                        if (newProgress >= 100) {
                            clearInterval(timer);
                            setTimeout(onComplete, 800);
                        }
                        return newProgress;
                    });
                }, 50);

                return () => clearInterval(timer);
            }, []);

            return (
                <div className="fixed inset-0 bg-black z-[100] flex flex-col items-center justify-center font-serif text-xs md:text-sm text-red-600 overflow-hidden cursor-wait">
                    <div className="absolute inset-0 opacity-10 pointer-events-none" style={{ backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")` }}></div>
                    <div className="absolute inset-0 bg-gradient-to-b from-transparent via-red-600/50 to-transparent animate-scanline pointer-events-none"></div>

                    <div className="w-80 md:w-96 relative z-10">
                        <div className="mb-8 text-center text-white animate-pulse">
                            <h1 className="text-2xl font-bold tracking-widest">ROGUE VERGE</h1>
                            <p className="text-[10px] text-gray-500 mt-1 tracking-[0.5em]">SYSTEM BOOTLOADER V2.0</p>
                        </div>

                        <div className="w-full h-2 bg-gray-900 border border-gray-700 mb-4 relative overflow-hidden">
                            <div className="h-full bg-white transition-all duration-75 ease-out" style={{ width: `${progress}%` }}></div>
                        </div>

                        <div className="flex justify-between mb-8 text-gray-400">
                            <span>{progress < 100 ? "LOADING..." : "COMPLETE"}</span>
                            <span>{Math.floor(progress)}%</span>
                        </div>

                        <div className="h-32 overflow-hidden border-l-2 border-gray-800 pl-4 text-left space-y-1 opacity-80">
                            {logs.map((log, index) => (
                                <div key={index} className="text-red-500/80 animate-pulse">{log}</div>
                            ))}
                            <div className="animate-pulse">_</div>
                        </div>
                    </div>
                </div>
            );
        };

        // --- Data Stream Border Component (已修正位置：移動至 Page Components 之前) ---
        const DataStreamBorder = () => {
            // 使用重複的 Base64 亂碼字符作為內容，創造數據流錯覺
            const dataString = "RVQ/NDU1NDUwNiBHSEs0OUQhIzUgQ09SQUlOMDAwMSBaMTAxMjQw";

            // 渲染單條邊緣的數據流
            const BorderSegment = ({ isHorizontal, position }) => {
                const baseClasses = `absolute overflow-hidden font-serif text-[8px] text-gray-700 whitespace-nowrap`;
                let style = {};
                let content = dataString + dataString + dataString; // 重複內容用於滾動

                if (isHorizontal) {
                    // 上邊和下邊的滾動
                    style = {
                        width: '100%',
                        height: '10px',
                        left: '0',
                    };
                    if (position === 'top') style.top = '0';
                    if (position === 'bottom') style.bottom = '0';

                    return (
                        <div className={`${baseClasses} ${position === 'top' ? 'top-0' : 'bottom-0'} `} style={style}>
                            <div className="absolute w-[200%] animate-data-scroll">{content}</div>
                        </div>
                    );
                } else {
                    // 左邊和右邊的垂直數據流 (旋轉 90 度)
                    style = {
                        width: '10px',
                        height: '100%',
                        top: '0',
                    };
                    if (position === 'left') style.left = '0';
                    if (position === 'right') style.right = '0';

                    return (
                        <div className={`${baseClasses} ${position === 'left' ? 'left-0' : 'right-0'} transform rotate-90 origin-top-left`} style={style}>
                            <div className="absolute w-[200%] animate-data-scroll">{content}</div>
                        </div>
                    );
                }
            };

            return (
                <React.Fragment>
                    <BorderSegment isHorizontal={true} position="top" />
                    <BorderSegment isHorizontal={true} position="bottom" />
                    {/* 垂直邊緣需要額外調整定位來配合旋轉 */}
                    <div className="absolute top-0 left-full -translate-x-full" style={{ width: '10px', height: '100%' }}>
                        <BorderSegment isHorizontal={false} position="right" />
                    </div>
                    <div className="absolute top-0 right-full translate-x-full" style={{ width: '10px', height: '100%' }}>
                        <BorderSegment isHorizontal={false} position="left" />
                    </div>
                </React.Fragment>
            );
        };

        // --- Page Components ---

        const ManifestoPage = ({ lang }) => {
            const t = TRANSLATIONS[lang];
            return (
                <div className="pt-32 px-6 md:px-20 max-w-5xl mx-auto min-h-screen pb-20">
                    <div className="border-l border-red-900/50 pl-8 md:pl-16 py-8">
                        <h2 className="font-serif text-5xl md:text-7xl text-white mb-8 tracking-tight">
                            {t.manifesto_h2_1}<span className="text-red-600">{t.manifesto_h2_red}</span>{t.manifesto_h2_2} <br /> {t.manifesto_h2_br}
                        </h2>
                        <div className="space-y-12 font-serif text-gray-400 leading-relaxed text-lg md:text-xl">
                            <p>
                                {t.manifesto_text_1}
                                <span className="text-white"> ROGUE VERGE</span>{t.manifesto_text_2}
                            </p>
                            <p>
                                {t.manifesto_text_3}<strong className="text-white">{t.manifesto_text_bold}</strong>{t.manifesto_text_4}
                            </p>
                            <div className="p-6 border border-white/10 bg-white/5 mt-12">
                                <p className="text-red-500 text-sm tracking-widest mb-4">{t.manifesto_core_title}</p>
                                <p className="text-white italic font-serif text-2xl">
                                    {t.manifesto_core_quote}
                                </p>
                            </div>
                            <p>
                                {t.manifesto_text_5}
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        const RelicDetailPage = ({ item, onBack, lang }) => {
            if (!item || !item.images || item.images.length === 0) return null;

            const t = TRANSLATIONS[lang];
            const displayNote = (item.note && typeof item.note === 'object') ? item.note[lang] : item.note;
            const displayDesc = (item.description && typeof item.description === 'object') ? item.description[lang] : item.description;
            const displayPrice = item.price === 'Sold Out' ? t.sold_out : item.price;

            const [currentSlide, setCurrentSlide] = useState(0);
            const totalSlides = item.images.length;

            useEffect(() => {
                setCurrentSlide(0);
            }, [item]);

            const handleNext = () => {
                setCurrentSlide((prev) => (prev + 1) % totalSlides);
            };

            const handlePrev = () => {
                setCurrentSlide((prev) => (prev - 1 + totalSlides) % totalSlides);
            };

            return (
                <div className="pt-32 px-6 md:px-20 min-h-screen pb-20">
                    <button
                        onClick={onBack}
                        className="mb-8 text-xs font-serif text-gray-500 hover:text-red-500 transition-colors flex items-center gap-2 group"
                    >
                        <span className="group-hover:-translate-x-1 transition-transform">&lt;</span> {t.back_to_archive}
                    </button>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                        {/* Image Carousel */}
                        <div className="relative border border-white/10 bg-[#050505] p-4 group">
                            <DataStreamBorder />
                            <div className="overflow-hidden relative aspect-square">
                                <div
                                    className="flex transition-transform duration-500 ease-in-out h-full"
                                    style={{ width: `${totalSlides * 100}%`, transform: `translateX(-${currentSlide * (100 / totalSlides)}%)` }}
                                >
                                    {item.images.map((imgSrc, index) => (
                                        <div key={index} className="flex-shrink-0 h-full flex items-center justify-center" style={{ width: `${100 / totalSlides}%` }}>
                                            <img src={imgSrc} alt={`${item.code} - ${index}`} className="max-w-full max-h-full object-contain grayscale group-hover:grayscale-0 transition-all duration-700" />
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {totalSlides > 1 && (
                                <React.Fragment>
                                    <button onClick={handleNext} className="absolute right-0 top-1/2 -translate-y-1/2 bg-black/50 p-3 text-white/70 hover:text-white transition-colors z-20">&gt;</button>
                                    <button onClick={handlePrev} className="absolute left-0 top-1/2 -translate-y-1/2 bg-black/50 p-3 text-white/70 hover:text-white transition-colors z-20">&lt;</button>
                                    <div className="absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-1 bg-black/30 px-3 py-1 rounded z-20">
                                        {item.images.map((_, index) => (
                                            <div key={index} className={`w-2 h-2 rounded-full cursor-pointer transition-colors ${currentSlide === index ? 'bg-red-500' : 'bg-white/40 hover:bg-white/70'}`} onClick={() => setCurrentSlide(index)}></div>
                                        ))}
                                    </div>
                                </React.Fragment>
                            )}
                            <div className="absolute top-0 left-0 w-4 h-4 border-t border-l border-white/50"></div>
                            <div className="absolute bottom-0 right-0 w-4 h-4 border-b border-r border-white/50"></div>
                        </div>

                        {/* Info */}
                        <div className="space-y-8">
                            <div>
                                <h2 className="font-serif text-4xl md:text-5xl text-white tracking-tight mb-2">{item.code}</h2>
                                <p className="font-serif text-sm text-red-500 tracking-widest">{displayNote}</p>
                            </div>
                            <div className="w-full h-[1px] bg-white/10"></div>
                            <div className="space-y-4">
                                <p className="font-serif text-xs text-gray-500">[ DESCRIPTION ]</p>
                                <p className="font-serif text-sm text-gray-300 leading-relaxed">{displayDesc || "No data available for this relic."}</p>
                            </div>
                            <div className="pt-8">
                                <p className="font-serif text-2xl text-white mb-6">{displayPrice}</p>
                                <a href="https://www.rogueverge.com" target="_blank" className="inline-block w-full md:w-auto text-center border border-white/30 bg-white/5 px-8 py-4 text-xs font-serif tracking-[0.2em] text-white hover:bg-white hover:text-black hover:border-white transition-all duration-300">{t.acquire_asset}</a>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };
        const ResumePage = ({ lang }) => {
            const isZh = lang === 'zh-TW';
            const education = {
                school: isZh ? '國立清華大學 — 經濟學系' : 'National Tsing Hua University - Economics Department',
                period: 'Sep 2022 - Present',
                desc: isZh
                    ? '以數據驅動的行銷與市場分析為核心，透過自有品牌進行市場驗證與消費者評估，將數據洞察轉化為可量化的行銷成果。'
                    : 'Data-driven marketing and market analysis encompass market validation and consumer assessment through proprietary brands, with the objective of converting data insights into measurable marketing outcomes.'
            };

            const experiences = [
                {
                    company: isZh ? '系統整合與專案開發 | 綠世得科技有限公司' : 'System Integration & Project Development | Greenworld Technology Corp.',
                    period: 'Jul 2024 - Present',
                    role: isZh ? '共同創辦人' : 'Co-Founder',
                    details: isZh ? [
                        '開發可與電池管理系統 (BMS) 及太陽能儲能設備整合的消防安全通訊與控制系統。',
                        '運用 Zabbix 與 Grafana 進行系統監控、架構設計與數據視覺化。',
                        '負責企業補助案撰寫與計畫書規劃，協助推進公司專案與技術發展。'
                    ] : [
                        'Developed a fire safety communication and control system integrable with BMS and solar energy storage devices.',
                        'Utilized Zabbix and Grafana for system monitoring, architecture design, and data visualization.',
                        'Authored government subsidy applications and project proposals, advancing company initiatives and technical development.'
                    ]
                },
                {
                    company: isZh ? '網頁效能優化與後端重構 | 世和智能' : 'Web Performance & Backend Refactoring | Shih-Ho Intelligent Corp.',
                    period: 'Sep 2023 - Present',
                    role: '',
                    details: isZh ? [
                        '執行網站的 SEO 規劃與整體效能優化。',
                        '導入 Supabase 進行後端架構重構，提升系統穩定度與資料處理效率。',
                        '實作網站安全標頭 (Security Headers) 並處理前後端部署與基礎設施架設。'
                    ] : [
                        'Executed SEO planning and comprehensive website performance optimization.',
                        'Introduced Supabase for backend restructuring, improving system stability and data processing efficiency.',
                        'Implemented Security Headers and managed full-stack deployment and infrastructure setup.'
                    ]
                },
                {
                    company: isZh ? '駿達彩色沖印 / 灣興實業' : 'Junda Color Photo Finishing / Wanxing Industrial Co., Ltd.',
                    period: 'Jun 2024 - Jun 2025',
                    role: '',
                    details: isZh ? [
                        '協助設計與編輯平面廣告，確保內容符合目標受眾的偏好。',
                        '支援客戶印刷專案執行與作品集優化。'
                    ] : [
                        "Assisted in the design and editing of print advertisements, ensuring content resonates with the target audience.",
                        'Supported clients in printing projects and portfolio optimization.'
                    ]
                }
            ];

            const leadership = [
                {
                    organization: isZh
                        ? '科技管理學院學刊 — 經濟學系'
                        : 'Journal of the School of Science and Technology Management - Department of Economics',
                    role: isZh ? '影片製作' : 'Video Production',
                    period: 'Sep 2024 - Present',
                    details: isZh ? [
                        '統籌製作組的季刊影片內容，管理從訪談到刊出的編輯流程。',
                        '協助萃取關鍵訪談片段，確保準時交付。'
                    ] : [
                        "Oversee the production team's quarterly video content and manage the editorial process from interviews to publication.",
                        'Facilitate the extraction of essential interview excerpts to guarantee prompt delivery.'
                    ]
                },
                {
                    organization: isZh ? '經濟學系系學會' : 'Department of Economics - Department Association Personnel',
                    role: isZh ? '學術及活動組' : 'Academic and Activities Division',
                    period: 'Dec 2024 - Dec 2025',
                    details: isZh ? [
                        '統籌系上烤肉活動與校友聚會。',
                        '邀請校友與業界人士舉辦講座，充實系上學術資源。',
                        '安排企業參訪、法人展覽及相關活動。'
                    ] : [
                        'Coordinate departmental barbecue events and alumni gatherings.',
                        'Organize lectures featuring alumni and industry professionals to equip the department with professional resources.',
                        'Facilitate company visits, corporate exhibitions, and associated activities.'
                    ]
                }
            ];

            const skills = [
                { label: isZh ? '技術工具' : 'TECHNICAL TOOLS', value: 'Supabase, Zabbix, Grafana' },
                { label: isZh ? '專業技能' : 'EXPERTISE', value: isZh ? '系統架構設計、資料視覺化、SEO、資訊安全' : 'System Architecture, Data Visualization, SEO, Web Security' },
                { label: isZh ? '設計與軟體' : 'SOFTWARE & DESIGN', value: 'DaVinci Resolve, CapCut, Adobe Illustrator, Affinity, Canva' },
                { label: isZh ? '語言' : 'LANGUAGES', value: isZh ? '中文、英文' : 'Chinese, English' },
                { label: isZh ? '志工' : 'VOLUNTEERS', value: isZh ? '方舟協會（食物發放公益組織）' : 'Ark Association (Food Distribution)' },
                { label: isZh ? '興趣' : 'INTERESTS', value: isZh ? '跑步、羽毛球、時尚' : 'Running, Badminton, Fashion' }
            ];

            const labels = {
                subtitle: isZh ? '履歷 / 職涯資料' : 'Resume / Professional Data',
                edu: isZh ? '學歷' : 'EDUCATION',
                exp: isZh ? '專業經歷' : 'PROFESSIONAL EXPERIENCE',
                lead: isZh ? '領導力與專案管理職務' : 'LEADERSHIP & PROJECT MANAGEMENT',
                supp: isZh ? '其他技能' : 'SUPPLEMENTARY SKILLS',
            };

            return (
                <div className="pt-32 px-6 md:px-20 max-w-5xl mx-auto min-h-screen pb-20 fade-in">
                    <header className="mb-16 border-l-4 border-red-600 pl-6">
                        <h1 className="text-5xl md:text-7xl font-serif text-white tracking-tight mb-2">Wang Te-Hsu</h1>
                        <p className="text-red-500 font-mono tracking-widest text-sm uppercase">{labels.subtitle}</p>
                    </header>

                    <div className="space-y-16">
                        {/* EDUCATION */}
                        <section>
                            <h2 className="text-2xl font-serif text-white border-b border-white/20 pb-4 mb-8 flex items-center">
                                <span className="text-red-500 mr-2">01 //</span> {labels.edu}
                            </h2>
                            <div className="md:grid md:grid-cols-[1fr_auto] gap-4 mb-4">
                                <h3 className="text-xl font-bold text-gray-200">{education.school}</h3>
                                <div className="text-red-500 font-mono text-sm">{education.period}</div>
                            </div>
                            <p className="text-gray-400 leading-relaxed max-w-3xl">{education.desc}</p>
                        </section>

                        {/* PROFESSIONAL EXPERIENCE */}
                        <section>
                            <h2 className="text-2xl font-serif text-white border-b border-white/20 pb-4 mb-8 flex items-center">
                                <span className="text-red-500 mr-2">02 //</span> {labels.exp}
                            </h2>
                            <div className="space-y-10">
                                {experiences.map((exp, idx) => (
                                    <div key={idx} className="relative pl-6 border-l border-white/10 hover:border-red-500/50 transition-colors">
                                        <div className="absolute top-0 left-[-4px] w-2 h-2 bg-red-600 rounded-full"></div>
                                        <div className="md:flex justify-between items-baseline mb-2">
                                            <h3 className="text-xl font-bold text-gray-200">{exp.company}</h3>
                                            <span className="text-red-500 font-mono text-xs whitespace-nowrap">{exp.period}</span>
                                        </div>
                                        {exp.role && <div className="text-white/80 font-serif italic mb-3">{exp.role}</div>}
                                        <ul className="space-y-2">
                                            {exp.details.map((detail, dIdx) => (
                                                <li key={dIdx} className="text-gray-400 text-sm leading-relaxed flex items-start">
                                                    <span className="text-red-900 mr-2 mt-1">::</span>
                                                    {detail}
                                                </li>
                                            ))}
                                        </ul>
                                    </div>
                                ))}
                            </div>
                        </section>

                        {/* LEADERSHIP */}
                        <section>
                            <h2 className="text-2xl font-serif text-white border-b border-white/20 pb-4 mb-8 flex items-center">
                                <span className="text-red-500 mr-2">03 //</span> {labels.lead}
                            </h2>
                            <div className="space-y-10">
                                {leadership.map((item, idx) => (
                                    <div key={idx} className="relative group">
                                        <div className="md:flex justify-between items-baseline mb-2">
                                            <h3 className="text-lg font-bold text-gray-200 group-hover:text-red-500 transition-colors">{item.organization}</h3>
                                            <span className="text-gray-600 font-mono text-xs whitespace-nowrap">{item.period}</span>
                                        </div>
                                        <div className="text-white/80 font-serif italic mb-3">{item.role}</div>
                                        <ul className="space-y-2 border-l border-white/5 pl-4 ml-1">
                                            {item.details.map((detail, dIdx) => (
                                                <li key={dIdx} className="text-gray-400 text-sm leading-relaxed">
                                                    - {detail}
                                                </li>
                                            ))}
                                        </ul>
                                    </div>
                                ))}
                            </div>
                        </section>

                        {/* SKILLS */}
                        <section>
                            <h2 className="text-2xl font-serif text-white border-b border-white/20 pb-4 mb-8 flex items-center">
                                <span className="text-red-500 mr-2">04 //</span> {labels.supp}
                            </h2>
                            <div className="grid md:grid-cols-2 gap-6 text-sm text-gray-300">
                                {skills.map((s, idx) => (
                                    <div key={idx} className="border border-white/10 p-4 bg-white/5">
                                        <strong className="text-white block mb-2 font-serif">{s.label}</strong>
                                        {s.value}
                                    </div>
                                ))}
                            </div>
                        </section>
                    </div>
                </div>
            );
        };


        const RelicsPage = ({ onItemClick, lang }) => {
            const t = TRANSLATIONS[lang];
            return (
                <div className="pt-32 px-6 md:px-20 min-h-screen pb-20">
                    <div className="flex items-end gap-4 mb-12 border-b border-white/10 pb-6">
                        <h2 className="font-serif text-4xl text-white tracking-widest">ARCHIVE</h2>
                        <span className="font-serif text-xs text-gray-500 mb-2"> // RECOVERED DATA</span>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {RELICS_DATA.map((item) => {
                            const displayNote = (item.note && typeof item.note === 'object') ? item.note[lang] : item.note;

                            return (
                                <div
                                    key={item.id}
                                    onClick={() => onItemClick(item)}
                                    className="group relative aspect-square border border-white/10 bg-[#050505] overflow-hidden cursor-pointer"
                                >
                                    <div className="absolute inset-0 w-full h-full">
                                        <img src={item.src} alt={item.code} className="w-full h-full object-cover opacity-60 grayscale transition-all duration-700 group-hover:opacity-100 group-hover:grayscale-0 group-hover:scale-110" />
                                    </div>
                                    <div className="absolute inset-0 bg-black/50 group-hover:bg-transparent transition-colors duration-500"></div>
                                    <div className="absolute inset-0 flex flex-col items-center justify-center transition-opacity duration-500 group-hover:opacity-0">
                                        <span className="font-serif text-xs text-red-500 tracking-widest animate-pulse">[{item.code}]</span>
                                    </div>
                                    <div className="absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black to-transparent transform translate-y-full group-hover:translate-y-0 transition-transform duration-500">
                                        <p className="font-serif text-white text-lg">{item.code}</p>
                                        <p className="font-serif text-xs text-gray-400">{displayNote}</p>
                                    </div>
                                    <div className="absolute top-4 right-4 w-2 h-2 border-t border-r border-white/30 group-hover:border-white transition-colors"></div>
                                    <div className="absolute bottom-4 left-4 w-2 h-2 border-b border-l border-white/30 group-hover:border-white transition-colors"></div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );
        };
        const MemoizedManifestoPage = React.memo(ManifestoPage);
        const MemoizedRelicsPage = React.memo(RelicsPage);
        const MemoizedRelicDetailPage = React.memo(RelicDetailPage);
        const MemoizedResumePage = React.memo(ResumePage);


        // --- Main Component ---
        const RogueVergePortal = () => {
            const [isLoading, setIsLoading] = useState(true);
            const [isAwakened, setIsAwakened] = useState(false);

            // [效能優化] 建立 Ref 來直接操作 DOM 元素
            const cursorMainRef = React.useRef(null);
            const cursorTrail1Ref = React.useRef(null);
            const cursorTrail2Ref = React.useRef(null);

            // [效能優化] 保留一個 State 用於顯示文字座標，但會限制更新頻率
            const [locDisplay, setLocDisplay] = useState({ x: 0, y: 0 });
            const lastUpdateRef = React.useRef(0); // 用來記錄上次更新文字的時間

            const [currentPage, setCurrentPage] = useState('home');
            const [selectedRelic, setSelectedRelic] = useState(null);
            const [language, setLanguage] = useState('zh-TW');

            // --- 補回遺失的互動函式 (修復黑屏原因 2) ---

            // 1. 開機動畫結束處理
            const handleBootComplete = () => {
                setIsLoading(false);
            };

            // 2. 點擊聖物進入詳情頁
            const handleRelicClick = (relic) => {
                setSelectedRelic(relic);
                setCurrentPage('relic_detail');
            };

            // 3. 切換覺醒/休眠狀態 (首頁圖片點擊)
            const toggleAwaken = () => {
                setIsAwakened(prev => !prev);
            };

            // [效能優化] 新的 MouseMove 監聽邏輯 (LERP 優化版)
            useEffect(() => {
                const mousePos = { x: 0, y: 0 };
                const trail1Pos = { x: 0, y: 0 };
                const trail2Pos = { x: 0, y: 0 };

                const handleMouseMove = (e) => {
                    const { clientX, clientY } = e;

                    // 更新目標點
                    mousePos.x = clientX;
                    mousePos.y = clientY;

                    // 主游標 (Primary Cursor) 保持 1:1 即時跟隨
                    if (cursorMainRef.current) {
                        cursorMainRef.current.style.transform = `translate3d(${clientX - 16}px, ${clientY - 16}px, 0) rotate(45deg)`;
                    }

                    // 文字座標節流邏輯
                    const now = Date.now();
                    if (now - lastUpdateRef.current > 100) {
                        setLocDisplay({ x: clientX, y: clientY });
                        lastUpdateRef.current = now;
                    }
                };

                // 動畫迴圈 (LERP 核心)
                const renderLoop = () => {
                    // Trail 1: 係數 0.2
                    trail1Pos.x += (mousePos.x - trail1Pos.x) * 0.2;
                    trail1Pos.y += (mousePos.y - trail1Pos.y) * 0.2;

                    // Trail 2: 係數 0.1
                    trail2Pos.x += (mousePos.x - trail2Pos.x) * 0.1;
                    trail2Pos.y += (mousePos.y - trail2Pos.y) * 0.1;

                    if (cursorTrail1Ref.current) {
                        cursorTrail1Ref.current.style.transform = `translate3d(${trail1Pos.x - 12}px, ${trail1Pos.y - 12}px, 0) rotate(45deg)`;
                    }
                    if (cursorTrail2Ref.current) {
                        cursorTrail2Ref.current.style.transform = `translate3d(${trail2Pos.x - 8}px, ${trail2Pos.y - 8}px, 0) rotate(45deg)`;
                    }

                    requestAnimationFrame(renderLoop);
                };

                window.addEventListener('mousemove', handleMouseMove);
                const animationId = requestAnimationFrame(renderLoop);

                return () => {
                    window.removeEventListener('mousemove', handleMouseMove);
                    cancelAnimationFrame(animationId);
                };
            }, []);

            useEffect(() => {
                if (isLoading) {
                    document.body.classList.add('loading-state');
                } else {
                    document.body.classList.remove('loading-state');
                }
            }, [isLoading]);

            useEffect(() => {
                window.scrollTo(0, 0);
            }, [currentPage]);

            useEffect(() => {
                const titles = {
                    'home': 'ROGUE VERGE',
                    'manifesto': 'MANIFESTO // FILE 001',
                    'relics': 'RELICs // DATA LOG',
                    'relic_detail': `[ R / V ] RELIC // ${selectedRelic ? selectedRelic.code : 'UNKNOWN'}`,
                    'resume': '[ RESUME ] // PROFILE',
                };

                const targetTitle = titles[currentPage] || 'ROGUE VERGE';
                const duration = 600;
                const scrambleChars = '!<>-_\\/[]{}—=+*^?#';
                let startTime = Date.now();
                let iteration = 0;

                const scrambleTitle = () => {
                    const elapsed = Date.now() - startTime;
                    if (elapsed > duration) {
                        document.title = targetTitle;
                        clearInterval(interval);
                        return;
                    }

                    const newTitle = targetTitle.split('').map((char, index) => {
                        if (index < iteration) {
                            return char;
                        }
                        return scrambleChars[Math.floor(Math.random() * scrambleChars.length)];
                    }).join('');

                    document.title = newTitle;
                    iteration += 3;
                };

                const interval = setInterval(scrambleTitle, 30);
                return () => clearInterval(interval);
            }, [currentPage, selectedRelic]);

            const t = TRANSLATIONS[language];

            return (
                <React.Fragment>
                    {isLoading && <BootSequence onComplete={handleBootComplete} />}

                    <div className={`min-h-screen bg-[#020202] text-[#e0e0e0] overflow-x-hidden font-sans transition-opacity duration-1000 ${isLoading ? 'opacity-0' : 'opacity-100'} ${isAwakened ? 'theme-awakened' : 'theme-dormant'}`}>

                        {/* Global Background */}
                        <div className="fixed inset-0 flex items-center justify-center select-none pointer-events-none overflow-hidden z-0">
                            <img src="./image/background_logo.svg" alt="ROGUE VERGE Background" className="w-full h-full object-cover opacity-5 animate-pulse-slow" style={{ filter: 'grayscale(100%) brightness(30%)' }} />
                        </div>
                        <div className="fixed inset-0 pointer-events-none z-50 mix-blend-overlay opacity-10" style={{ backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")` }}></div>
                        <div className={`fixed inset-0 pointer-events-none z-0 transition-opacity duration-1000 ease-in-out ${isAwakened && currentPage === 'home' ? 'opacity-30' : 'opacity-0'}`} style={{ backgroundImage: `linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px), linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px)`, backgroundSize: '40px 40px', maskImage: 'radial-gradient(circle at center, black 40%, transparent 80%)', WebkitMaskImage: 'radial-gradient(circle at center, black 40%, transparent 80%)' }}></div>
                        <div className={`fixed top-0 left-1/2 -translate-x-1/2 pointer-events-none z-20 transition-all duration-1000 ease-out ${isAwakened && currentPage === 'home' ? 'opacity-100 h-[120vh] w-[60vw]' : 'opacity-0 h-0 w-0'}`} style={{ background: 'conic-gradient(from 180deg at 50% 0%, transparent 0deg, rgba(255, 255, 255, 0.15) 10deg, rgba(255, 255, 255, 0.4) 20deg, rgba(255, 255, 255, 0.15) 30deg, transparent 40deg)', filter: 'blur(40px)', transformOrigin: 'top center' }}></div>

                        {/* Cursor Trails & Primary Cursor */}
                        <React.Fragment>
                            {/* Trail 1 */}
                            <div
                                ref={cursorTrail1Ref}
                                className="fixed w-6 h-6 border border-white/40 pointer-events-none z-[59] mix-blend-difference force-gpu"
                                style={{ top: 0, left: 0 }}
                            >
                            </div>

                            {/* Trail 2 */}
                            <div
                                ref={cursorTrail2Ref}
                                className="fixed w-4 h-4 border border-white/20 pointer-events-none z-[58] mix-blend-difference force-gpu"
                                style={{ top: 0, left: 0 }}
                            >
                            </div>

                            {/* Primary Cursor */}
                            <div
                                ref={cursorMainRef}
                                className="fixed w-8 h-8 border border-white pointer-events-none z-[60] mix-blend-difference ease-out flex items-center justify-center force-gpu"
                                style={{ top: 0, left: 0 }}
                            >
                                <div className={`w-1 h-1 bg-white rounded-full ${isAwakened ? 'animate-ping bg-red-500' : ''}`}></div>
                            </div>
                        </React.Fragment>

                        {/* Navigation */}
                        <nav className="fixed top-0 left-0 w-full z-40 px-6 md:px-12 py-6 flex justify-between items-center mix-blend-difference">
                            <div className="flex items-center gap-4 cursor-pointer z-50" onClick={() => setCurrentPage('home')}>
                                <img src="./image/logo.svg" alt="ROGUE VERGE Logo" className="h-10 md:h-10 object-contain transition-all duration-300 ease-in-out grayscale contrast-125 group-hover:grayscale-0 group-hover:filter group-hover:drop-shadow-[0_0_5px_red]" />
                            </div>

                            <div className="flex gap-6 text-xs font-serif tracking-widest text-white z-50">
                                <button onClick={() => setCurrentPage('manifesto')}
                                    className={`relative group transition-colors pt-1 pb-1 cursor-pointer ${currentPage === 'manifesto' ? 'text-red-500' : 'text-white'}`}>
                                    <ScrambleText
                                        text={t.manifesto_title}
                                        className="transition-colors group-hover:text-red-500"
                                    />
                                    <span className={`absolute bottom-0 left-0 w-full h-[1px] transition-all duration-300 force-gpu ${currentPage === 'manifesto'
                                        ? 'opacity-100 bg-red-600 shadow-[0_0_5px_red] animate-pulse'
                                        : 'opacity-0 bg-white group-hover:opacity-50'
                                        }`}></span>
                                </button>

                                {(() => {
                                    const isRelicsActive = currentPage === 'relics' || currentPage === 'relic_detail';
                                    return (
                                        <button onClick={() => setCurrentPage('relics')}
                                            className={`relative group transition-colors pt-1 pb-1 cursor-pointer ${isRelicsActive ? 'text-red-500' : 'text-white'}`}>
                                            <ScrambleText
                                                text={t.relics_title}
                                                className="transition-colors group-hover:text-red-500"
                                            />
                                            <span className={`absolute bottom-0 left-0 w-full h-[1px] transition-all duration-300 force-gpu ${isRelicsActive
                                                ? 'opacity-100 bg-red-600 shadow-[0_0_5px_red] animate-pulse'
                                                : 'opacity-0 bg-white group-hover:opacity-50'
                                                }`}></span>
                                        </button>
                                    );
                                })()}

                                <button onClick={() => setCurrentPage('resume')}
                                    className={`relative group transition-colors pt-1 pb-1 cursor-pointer ${currentPage === 'resume' ? 'text-red-500' : 'text-white'}`}>
                                    <ScrambleText
                                        text={t.resume_title}
                                        className="transition-colors group-hover:text-red-500"
                                    />
                                    <span className={`absolute bottom-0 left-0 w-full h-[1px] transition-all duration-300 force-gpu ${currentPage === 'resume'
                                        ? 'opacity-100 bg-red-600 shadow-[0_0_5px_red] animate-pulse'
                                        : 'opacity-0 bg-white group-hover:opacity-50'
                                        }`}></span>
                                </button>
                            </div>
                        </nav>

                        {/* Page Content */}
                        {currentPage === 'home' && (
                            <React.Fragment>
                                {/* Hero Section */}
                                <section className="relative h-screen flex flex-col items-center pt-24 overflow-hidden perspective-1000">
                                    <div className="relative group cursor-pointer z-30" onClick={toggleAwaken}>
                                        <div className={`relative w-[300px] h-[400px] md:w-[400px] md:h-[550px] transition-all duration-1000 ease-out overflow-hidden bg-black border border-[#222] ${isAwakened ? 'shadow-[0_0_50px_rgba(255,255,255,0.1)] scale-105' : 'shadow-none grayscale'}`}>
                                            <img src="./image/after.png" alt="Awakened State" className={`absolute inset-0 w-full h-full object-cover transition-all duration-1000 ease-out ${isAwakened ? 'opacity-100 grayscale-0 contrast-110 brightness-110' : 'opacity-0'}`} />
                                            <img src="./image/before.png" alt="Dormant State" className={`absolute inset-0 w-full h-full object-cover transition-all duration-1000 ease-out ${isAwakened ? 'opacity-0' : 'opacity-100 grayscale contrast-125 brightness-50'}`} />

                                            {isAwakened && (
                                                <React.Fragment>
                                                    <div className="absolute top-0 left-0 w-full h-full bg-white opacity-10 mix-blend-color-dodge" style={{ backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")` }}></div>
                                                    <div className="absolute top-1/4 left-0 w-full h-[1px] bg-white/50 animate-scanline"></div>
                                                </React.Fragment>
                                            )}
                                        </div>
                                        <div className={`absolute -inset-4 border transition-all duration-1000 ease-out ${isAwakened ? 'border-white/30 translate-x-2 translate-y-2 opacity-100' : 'border-white/5 opacity-50'}`}></div>
                                        <div className={`absolute -inset-4 border transition-all duration-1000 ease-out ${isAwakened ? 'border-white/30 -translate-x-2 -translate-y-2 opacity-100' : 'border-white/5 opacity-50'}`}></div>

                                        <div className="absolute -bottom-16 left-0 w-full text-center font-serif text-xs tracking-[0.5em] uppercase">
                                            {isAwakened ? <span className="text-white animate-pulse drop-shadow-[0_0_10px_rgba(255,255,255,0.8)]">System: Awakened</span> : <span className="text-gray-600">System: Dormant</span>}
                                        </div>
                                    </div>

                                    {/* Bottom Interaction */}
                                    <div className={`absolute bottom-8 w-full flex flex-col items-center transition-all duration-700 ${isAwakened ? 'opacity-0 translate-y-10' : 'opacity-100'} z-50`}>
                                        <ScrambleText text={t.home_cta} className="font-serif text-xs text-gray-400 tracking-[0.3em] cursor-help mb-4 hover:text-red-500 transition-colors" />
                                        <div className="w-[1px] h-16 bg-gray-800 relative overflow-hidden mb-4">
                                            <div className="absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-transparent to-white animate-scanline"></div>
                                        </div>
                                        <div className="flex gap-8 font-serif text-[10px] text-gray-400">
                                            <span>LOC: [{locDisplay.x}, {locDisplay.y}]</span>
                                            <span>VEL: 65%</span>
                                            <span className="animate-pulse text-red-500 drop-shadow-[0_0_5px_rgba(255,0,0,0.5)]">SYSTEM_READY</span>
                                        </div>
                                    </div>
                                </section>

                                {/* Home Manifesto Preview */}
                                <section className="relative py-24 px-6 md:px-20 max-w-4xl mx-auto">
                                    <div className="flex flex-col gap-12">
                                        <div className="flex items-center gap-4">
                                            <div className={`w-12 h-[1px] transition-colors duration-500 ${isAwakened ? 'bg-white box-shadow-[0_0_10px_white]' : 'bg-red-900'}`}></div>
                                            <h2 className={`font-serif text-sm tracking-widest transition-colors duration-500 ${isAwakened ? 'text-white' : 'text-red-900'}`}>{TRANSLATIONS[language].genesis_header}</h2>
                                        </div>

                                        <div className="font-serif text-2xl md:text-2xl leading-tight space-y-8">
                                            <p>
                                                {TRANSLATIONS[language].genesis_p1_1}<span className={`transition-colors duration-1000 ${isAwakened ? 'text-white drop-shadow-[0_0_5px_white]' : 'text-gray-500'}`}>{TRANSLATIONS[language].genesis_p1_2}</span>
                                            </p>
                                            <p>
                                                {TRANSLATIONS[language].genesis_p2_1}
                                                <span className="relative inline-block mx-1">
                                                    <span className="absolute top-0 left-0 -ml-1.5 text-red-600 opacity-90 animate-noise force-gpu">{TRANSLATIONS[language].noise_word}</span>
                                                    <span className="absolute top-0 left-0 ml-1.5 text-blue-600 opacity-90 animate-noise force-gpu" style={{ animationDirection: 'reverse' }}>{TRANSLATIONS[language].noise_word}</span>
                                                    <strong className="relative z-10 font-serif text-white opacity-90 bg-black/50 px-1 animate-noise">{TRANSLATIONS[language].noise_word}</strong>
                                                </span>
                                                {TRANSLATIONS[language].genesis_p2_2}
                                            </p>
                                            <p className="opacity-80 text-xl md:text-2xl font-serif pt-4 border-l-2 border-white pl-6">
                                                {TRANSLATIONS[language].genesis_quote}
                                            </p>
                                        </div>
                                        <div className="text-center pt-12">
                                            <button onClick={() => setCurrentPage('manifesto')} className="px-8 py-3 border border-white/20 text-xs font-serif tracking-[0.2em] hover:bg-white hover:text-black transition-all">{TRANSLATIONS[language].read_manifesto}</button>
                                        </div>
                                    </div>
                                </section>
                            </React.Fragment>
                        )}

                        {/* Language Switcher */}
                        <div className="fixed bottom-6 right-6 z-[100] flex flex-col items-end gap-2 mix-blend-difference">
                            <div className="flex text-[10px] font-serif tracking-widest items-center bg-black/20 backdrop-blur-sm border border-white/10 px-3 py-1 rounded-full hover:border-red-500/50 transition-colors duration-300 cursor-pointer">
                                <button
                                    onClick={() => setLanguage('zh-TW')}
                                    className={`transition-all duration-300 ${language === 'zh-TW' ? 'text-red-500 font-bold scale-110' : 'text-gray-400 hover:text-white'}`}
                                >
                                    ZH
                                </button>
                                <span className="text-gray-600 mx-2">/</span>
                                <button
                                    onClick={() => setLanguage('en')}
                                    className={`transition-all duration-300 ${language === 'en' ? 'text-red-500 font-bold scale-110' : 'text-gray-400 hover:text-white'}`}
                                >
                                    EN
                                </button>
                            </div>
                        </div>

                        {/* Pages */}
                        {currentPage === 'manifesto' && <MemoizedManifestoPage lang={language} />}
                        {currentPage === 'relics' && <MemoizedRelicsPage onItemClick={handleRelicClick} lang={language} />}
                        {currentPage === 'relic_detail' && <MemoizedRelicDetailPage item={selectedRelic} onBack={() => setCurrentPage('relics')} lang={language} />}
                        {currentPage === 'resume' && <MemoizedResumePage lang={language} />}
                    </div>
                </React.Fragment>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<RogueVergePortal />);
    </script>
</body>

</html>